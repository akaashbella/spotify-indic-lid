# Spotify Liked Songs → South Asian playlist pipeline
# Python 3.10+

# APIs
spotipy>=2.23.0
lyricsgenius>=4.1.0
python-dotenv>=1.0.0

# Data & progress
pandas>=2.0.0
tqdm>=4.65.0

# IndicLID (AI4Bharat) – full two-stage model (FT + BERT)
# Install dependencies first:
torch>=2.0.0
transformers>=4.30.0
fasttext-wheel>=0.9.2; sys_platform != "win32"
fasttext>=0.9.2; sys_platform == "win32"

# ---------------------------------------------------------------
# IndicLID setup (required for language detection)
# ---------------------------------------------------------------
# 1. Clone the IndicLID repo into this project (same directory as main.py):
#
#    git clone https://github.com/AI4Bharat/IndicLID.git
#
# 2. Download the three model archives and extract under a `models/` directory
#    (in the project root, or set INDICLID_MODEL_DIR to your path):
#
#    IndicLID-FTN (native script):  https://github.com/AI4Bharat/IndicLID/releases/download/v1.0/indiclid-ftn.zip
#    IndicLID-FTR (roman script):  https://github.com/AI4Bharat/IndicLID/releases/download/v1.0/indiclid-ftr.zip
#    IndicLID-BERT (second stage): https://github.com/AI4Bharat/IndicLID/releases/download/v1.0/indiclid-bert.zip
#
#    Extract so that you have:
#      models/indiclid-ftn/model_baseline_roman.bin
#      models/indiclid-ftr/model_baseline_roman.bin
#      models/indiclid-bert/basline_nn_simple.pt
#
# 3. (Optional) On a cluster, use INDICLID_MODEL_DIR=$SCRATCH/indiclid-models or similar.
#
# ---------------------------------------------------------------
# Setup on a headless cluster (high-performance computing) – follow exactly
# ---------------------------------------------------------------
# - Directory layout: the wrapper expects IndicLID at project root, i.e.:
#     project/
#       main.py
#       indiclid_wrapper.py
#       IndicLID/           <-- clone here (git clone https://github.com/AI4Bharat/IndicLID.git)
#         Inference/
#           ai4bharat/
#             IndicLID.py
#       models/
#         indiclid-ftn/
#         indiclid-ftr/
#         indiclid-bert/
# - Spotify auth (no browser on headless nodes): run `python main.py` once on your local machine.
#   This creates a `.cache` file. Upload that `.cache` file to the project root on your cluster
#   (same folder as main.py). The script uses cache_path=".cache" so it will read the
#   token from this file and not prompt for a browser.
